<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Basic Page Needs
    ================================================== -->
    <title>Conupedia</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link href= " {{ url_for('web', path='assets/images/favicon.png') }} "  rel="icon" type="image/png">

    <!-- icons
    ================================================== -->
    <link rel="stylesheet" href= " {{ url_for('web', path='assets/css/icons.css') }} " >

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href= " {{ url_for('web', path='admin/css/uikit.css') }} " >
    <link rel="stylesheet" href= " {{ url_for('web', path='assets/css/style.css') }} " >
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

    <script nomodule="" src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>
<!--    <script src= " {{ url_for('web', path='admin/js/uikit.js') }} " ></script>-->
<!--    <script src=" {{ url_for('web', path='admin/js/uikit-icons.min.js') }} " ></script>-->
    <style>
        .pad {
            padding-top: 5% ;
            padding-right: 75% ;
        }

        .right_pad {
            padding-top:5%;
            padding-left:25%;
        }

        .inn {
            width: 100% ;
            height: 100% ;
        }

        .editor {
          position: relative;
          box-sizing: border-box;
          transition: box-shadow 0.1s ease-in-out;
        }
    </style>
</head>

<body>
<div class="uk-text-center" uk-grid>
    <div class="uk-width-auto@m">
        <div class="uk-card uk-card-default uk-card-body">Auto</div>
    </div>
    <div class="uk-width-1-3@m">
        <div class="uk-card uk-card-default uk-card-body">1-3</div>
    </div>
    <div class="uk-width-expand@m">
        <div class="uk-card uk-card-default uk-card-body">Expand</div>
    </div>
</div>
<!--    <div class="uk-section">-->
<!--        <div class="uk-container">-->
            <div uk-grid>
                <div class="uk-child-width-1-3@m">
                    <div class="uk-card uk-card-default">
                        <div class="bg-white shadow-xl rounded-md">

                            <input type="text" id="input" placeholder="Search...">

                            <div class="uk-container uk-container-xsmall">
                                <div class="uk-overflow-auto uk-height-large">
                                    <table class="uk-table uk-table-small uk-table-middle uk-table-divider uk-table-hover ">
                                        <thead>
                                            <tr>
                                                <th class="uk-table-expand"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for row in entries %}
                                                <tr>

                                                    <td class="uk-table-link text-xs"><button value="{{ row.id }}" onclick="getCourse(this)" class="text-left" style="width: 100%">{{ row.course }}</button></td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="uk-child-width-expand@m">
                    <div class="uk-card">
                        <div class="bg-white shadow-xl rounded-md">

                            <div id="editor">
                                <div class="grid lg:grid-cols-2 gap-3">
                                    <div><input class="bg-gray-100 h-12 mt-2 px-3 rounded-md w-full" type="text" id="code" placeholder="Code..."></div>
                                    <div><input class="bg-gray-100 h-12 mt-2 px-3 rounded-md w-full" type="text" id="title" placeholder="Title..."></div>
                                </div>
                                <div class="grid lg:grid-cols-2 gap-3">
                                    <div><input class="bg-gray-100 h-12 mt-2 px-3 rounded-md w-full" type="text" id="credits" placeholder="Credits..."></div>
                                    <div><select id="degree">
                                        <option value="Undergraduate">Undergraduate</option>
                                        <option value="Graduate">Graduate</option>
                                        <option value="CCE">CCE</option>
                                        <option value="GradProSkills">GradProSkills</option>
                                    </select></div>
                                </div>
                                <input type="text" class="bg-gray-100 h-12 mt-2 px-3 rounded-md w-full" id="requisites" placeholder="Requisites...">
                                <input type="text" class="bg-gray-100 h-12 mt-2 px-3 rounded-md w-full" id="description" placeholder="Description...">
                            </div>
                            <div class="uk-position-bottom">
                                <button>Save</button>
                                <button>Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
<!--        </div>-->
<!--    </div>-->

    <script src= " {{ url_for('web', path='admin/js/uikit.js') }} " ></script>
    <script src=" {{ url_for('web', path='admin/js/uikit-icons.min.js') }} " ></script>

    <script type="text/javascript">
        function getCourse(reference) {
            let course = reference.value
            let code = document.getElementById("code")
            let title = document.getElementById("title")
            let degree = document.getElementById("degree")
            let credits = document.getElementById("credits")
            let requisites = document.getElementById("requisites")
            let description = document.getElementById("description")

            let http = new XMLHttpRequest();
            http.open("GET", '/course?id=' + course);
            http.send();

                http.onreadystatechange = (e) => {
                    let response = JSON.parse(http.responseText)
                    code.value = response['code']
                    title.value = response['title']
                    degree.value = response['degree']
                    credits.value = response['credits']
                    if('requisites' in response) {
                        requisites.value = response['requisites']
                    }
                    if('description' in response) {
                        description.value = response['description']
                    }

                }
        }
    </script>
</body>

</html>
